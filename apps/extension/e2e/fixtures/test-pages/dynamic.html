<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verba Test Page - Dynamic Content</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }

        #dynamic-container {
            border: 2px dashed #ccc;
            padding: 20px;
            min-height: 200px;
            margin: 20px 0;
        }

        button {
            padding: 10px 20px;
            margin: 5px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background: #5568d3;
        }

        .dynamic-item {
            padding: 15px;
            margin: 10px 0;
            background: #f0f0f0;
            border-radius: 5px;
        }
    </style>
</head>

<body>
    <h1>Dynamic Content Test Page</h1>

    <p>This page tests enhancement on dynamically loaded content.</p>

    <div>
        <button onclick="addContent()">Add Content</button>
        <button onclick="clearContent()">Clear Content</button>
        <button onclick="loadAsync()">Load Async Content</button>
    </div>

    <div id="dynamic-container">
        <p>Initial content that can be enhanced.</p>
    </div>

    <script>
        let counter = 1;

        function addContent() {
            const container = document.getElementById('dynamic-container');
            const item = document.createElement('div');
            item.className = 'dynamic-item';
            item.id = `dynamic-item-${counter}`;
            item.textContent = `Dynamic content ${counter}: This text was added dynamically and should be enhanceable. It has some errors to fix.`;
            container.appendChild(item);
            counter++;
        }

        function clearContent() {
            const container = document.getElementById('dynamic-container');
            container.innerHTML = '<p>Container cleared. Add new content.</p>';
            counter = 1;
        }

        function loadAsync() {
            const container = document.getElementById('dynamic-container');
            const loading = document.createElement('p');
            loading.textContent = 'Loading...';
            container.appendChild(loading);

            setTimeout(() => {
                loading.remove();
                const item = document.createElement('div');
                item.className = 'dynamic-item';
                item.id = 'async-content';
                item.textContent = 'This content was loaded asynchronously after 1 second. It should still be enhanceable.';
                container.appendChild(item);
            }, 1000);
        }
    </script>
</body>

</html>