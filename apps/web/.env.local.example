=============================================================================
# VERBA WEB APPLICATION - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env.local for development
# Copy this file to .env.test.local for testing
# Copy this file to .env.production.local for production
# NEVER commit .env.*.local files with actual values to version control
# =============================================================================

# -----------------------------------------------------------------------------
# SUPABASE CONFIGURATION
# -----------------------------------------------------------------------------
# Get these from: https://app.supabase.com/project/_/settings/api
# For development, you can use mock values or a test project

# Supabase project URL
# Format: https://[project-id].supabase.co
# Required: Yes
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# Supabase anonymous key (public, safe to expose in client)
# Get from: Supabase Dashboard → Settings → API → Project API keys → anon/public
# Required: Yes
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Supabase service role key (secret, server-side only!)
# Get from: Supabase Dashboard → Settings → API → Project API keys → service_role
# Required: Yes (for admin operations)
# WARNING: Never expose this in client-side code!
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# -----------------------------------------------------------------------------
# LEMON SQUEEZY CONFIGURATION
# -----------------------------------------------------------------------------
# Get these from: https://app.lemonsqueezy.com/settings/api
# Use test mode for development

# Lemon Squeezy API key
# Get from: Lemon Squeezy Dashboard → Settings → API
# Required: Yes
LEMONSQUEEZY_API_KEY=your-api-key-here

# Store ID
# Get from: Lemon Squeezy Dashboard → Settings → Stores
# Required: Yes
LEMONSQUEEZY_STORE_ID=your-store-id

# Webhook secret for signature verification
# Get from: Lemon Squeezy Dashboard → Settings → Webhooks
# Required: Yes (for webhook security)
LEMONSQUEEZY_WEBHOOK_SECRET=your-webhook-secret

# Product/Variant IDs for each subscription tier
# Get from: Lemon Squeezy Dashboard → Products
# Required: Yes
# Note: Create products in Lemon Squeezy first, then add variant IDs here

# Lifetime Launch Offer (Limited to 500 subscribers)
LEMONSQUEEZY_LIFETIME_LAUNCH_VARIANT_ID=your-lifetime-launch-variant-id

# Monthly Plans
LEMONSQUEEZY_BASIC_MONTHLY_VARIANT_ID=your-basic-monthly-variant-id
LEMONSQUEEZY_PRO_MONTHLY_VARIANT_ID=your-pro-monthly-variant-id
LEMONSQUEEZY_BUSINESS_MONTHLY_VARIANT_ID=your-business-monthly-variant-id

# Annual Plans (25% discount)
LEMONSQUEEZY_BASIC_ANNUAL_VARIANT_ID=your-basic-annual-variant-id
LEMONSQUEEZY_PRO_ANNUAL_VARIANT_ID=your-pro-annual-variant-id
LEMONSQUEEZY_BUSINESS_ANNUAL_VARIANT_ID=your-business-annual-variant-id


# -----------------------------------------------------------------------------
# ANTHROPIC (CLAUDE) CONFIGURATION
# -----------------------------------------------------------------------------
# Get your API key from: https://console.anthropic.com/settings/keys
# For development, you can use a test key with limited credits

# Anthropic API key
# Required: Yes (unless MOCK_AI_RESPONSES=true)
ANTHROPIC_API_KEY=your-anthropic-api-key

# Model to use (optional, defaults to claude-3-5-sonnet-20241022)
# Options: claude-3-5-sonnet-20241022, claude-3-opus-20240229, etc.
# ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# Maximum tokens for AI responses (optional, defaults to 1024)
# Range: 1-4096
# ANTHROPIC_MAX_TOKENS=1024

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------

# Base URL for your application
# Used for: OAuth redirects, webhooks, absolute URLs
# Development: http://localhost:3000
# Production: https://verba.app
# Required: Yes
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Environment mode
# Options: development, test, staging, production
# Required: Yes (auto-set by Next.js)
NODE_ENV=development

# -----------------------------------------------------------------------------
# USAGE LIMITS
# -----------------------------------------------------------------------------
# Configure usage limits for each subscription tier

# Trial tier limits (number of enhancement actions)
# Default: 10
TRIAL_ENHANCEMENT_LIMIT=10

# Monthly tier limits (per month)
# Default: 1000 (set to -1 for unlimited)
MONTHLY_ENHANCEMENT_LIMIT=1000

# Lifetime tier limits
# Default: -1 (unlimited)
LIFETIME_ENHANCEMENT_LIMIT=-1

# Rate limiting (requests per minute per user)
# Default: 10
RATE_LIMIT_RPM=10

# Rate limiting window (in seconds)
# Default: 60
RATE_LIMIT_WINDOW=60

# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# OPTIONAL: EMAIL CONFIGURATION
# -----------------------------------------------------------------------------

# Email provider (for transactional emails)
# Options: sendgrid, resend, postmark, etc.
# Optional
# EMAIL_PROVIDER=
# EMAIL_API_KEY=
# EMAIL_FROM_ADDRESS=noreply@verba.app
# EMAIL_FROM_NAME=Verba

# -----------------------------------------------------------------------------
# OPTIONAL: FEATURE FLAGS
# -----------------------------------------------------------------------------

# Enable Shopify app distribution (future feature)
# NEXT_PUBLIC_ENABLE_SHOPIFY_APP=false

# -----------------------------------------------------------------------------
# DEVELOPMENT ONLY
# -----------------------------------------------------------------------------

# Enable debug logging
# Shows detailed logs in console
# Default: false
# DEBUG=true

# Skip authentication checks (DANGEROUS - dev only!)
# Bypasses all auth middleware
# Default: false
# WARNING: Never use in production!
# SKIP_AUTH=false

# Mock AI responses (for testing without API costs)
# Uses predefined responses instead of calling Anthropic API
# Default: false
# MOCK_AI_RESPONSES=false

# Disable rate limiting (dev only)
# Default: false
# DISABLE_RATE_LIMIT=false

# Enable verbose SQL logging
# Default: false
# LOG_SQL_QUERIES=false

# -----------------------------------------------------------------------------
# VALIDATION RULES
# -----------------------------------------------------------------------------
# NEXT_PUBLIC_SUPABASE_URL: Must be a valid URL starting with https://
# NEXT_PUBLIC_SUPABASE_ANON_KEY: Must be a non-empty string
# SUPABASE_SERVICE_ROLE_KEY: Must be a non-empty string
# LEMONSQUEEZY_API_KEY: Must be a non-empty string
# LEMONSQUEEZY_WEBHOOK_SECRET: Must be a non-empty string
# ANTHROPIC_API_KEY: Must be a non-empty string (unless MOCK_AI_RESPONSES=true)
# NEXT_PUBLIC_APP_URL: Must be a valid URL
# TRIAL_ENHANCEMENT_LIMIT: Must be a positive integer
# MONTHLY_ENHANCEMENT_LIMIT: Must be a positive integer or -1 for unlimited
# RATE_LIMIT_RPM: Must be a positive integer

# -----------------------------------------------------------------------------
# TROUBLESHOOTING
# -----------------------------------------------------------------------------
# Issue: "Invalid environment variables" error
# Solution: Ensure all required variables are set and valid
#
# Issue: API calls failing with authentication errors
# Solution: Verify SUPABASE_SERVICE_ROLE_KEY is correct
#
# Issue: Webhook signature verification failing
# Solution: Verify LEMONSQUEEZY_WEBHOOK_SECRET matches Lemon Squeezy settings
#
# Issue: AI enhancement not working
# Solution: Verify ANTHROPIC_API_KEY is valid or enable MOCK_AI_RESPONSES
#
# Issue: OAuth redirects failing
# Solution: Verify NEXT_PUBLIC_APP_URL matches your actual domain
#
# For more help, see: https://docs.verba.app/troubleshooting
